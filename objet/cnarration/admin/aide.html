<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<style>
body {
  font-family: Helvetica, arial, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  padding-top: 10px;
  padding-bottom: 10px;
  background-color: white;
  padding: 30px; }

body > *:first-child {
  margin-top: 0 !important; }
body > *:last-child {
  margin-bottom: 0 !important; }

a {
  color: #4183C4; }
a.absent {
  color: #cc0000; }
a.anchor {
  display: block;
  padding-left: 30px;
  margin-left: -30px;
  cursor: pointer;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0; }

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
  cursor: text;
  position: relative; }

h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhXeAAAABfSURBVHjaYvz//z8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg==) no-repeat 10px center;
  text-decoration: none; }

h1 tt, h1 code {
  font-size: inherit; }

h2 tt, h2 code {
  font-size: inherit; }

h3 tt, h3 code {
  font-size: inherit; }

h4 tt, h4 code {
  font-size: inherit; }

h5 tt, h5 code {
  font-size: inherit; }

h6 tt, h6 code {
  font-size: inherit; }

h1 {
  font-size: 28px;
  color: black; }

h2 {
  font-size: 24px;
  border-bottom: 1px solid #cccccc;
  color: black; }

h3 {
  font-size: 18px; }

h4 {
  font-size: 16px; }

h5 {
  font-size: 14px; }

h6 {
  color: #777777;
  font-size: 14px; }

p, blockquote, ul, ol, dl, li, table, pre {
  margin: 15px 0; }

hr {
  background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;
  border: 0 none;
  color: #cccccc;
  height: 4px;
  padding: 0;
}

body > h2:first-child {
  margin-top: 0;
  padding-top: 0; }
body > h1:first-child {
  margin-top: 0;
  padding-top: 0; }
  body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {
  margin-top: 0;
  padding-top: 0; }

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0; }

h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {
  margin-top: 0; }

li p.first {
  display: inline-block; }
li {
  margin: 0; }
ul, ol {
  padding-left: 30px; }

ul :first-child, ol :first-child {
  margin-top: 0; }

dl {
  padding: 0; }
  dl dt {
    font-size: 14px;
    font-weight: bold;
    font-style: italic;
    padding: 0;
    margin: 15px 0 5px; }
    dl dt:first-child {
      padding: 0; }
    dl dt > :first-child {
      margin-top: 0; }
    dl dt > :last-child {
      margin-bottom: 0; }
  dl dd {
    margin: 0 0 15px;
    padding: 0 15px; }
    dl dd > :first-child {
      margin-top: 0; }
    dl dd > :last-child {
      margin-bottom: 0; }

blockquote {
  border-left: 4px solid #dddddd;
  padding: 0 15px;
  color: #777777; }
  blockquote > :first-child {
    margin-top: 0; }
  blockquote > :last-child {
    margin-bottom: 0; }

table {
  padding: 0;border-collapse: collapse; }
  table tr {
    border-top: 1px solid #cccccc;
    background-color: white;
    margin: 0;
    padding: 0; }
    table tr:nth-child(2n) {
      background-color: #f8f8f8; }
    table tr th {
      font-weight: bold;
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr td {
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr th :first-child, table tr td :first-child {
      margin-top: 0; }
    table tr th :last-child, table tr td :last-child {
      margin-bottom: 0; }

img {
  max-width: 100%; }

span.frame {
  display: block;
  overflow: hidden; }
  span.frame > span {
    border: 1px solid #dddddd;
    display: block;
    float: left;
    overflow: hidden;
    margin: 13px 0 0;
    padding: 7px;
    width: auto; }
  span.frame span img {
    display: block;
    float: left; }
  span.frame span span {
    clear: both;
    color: #333333;
    display: block;
    padding: 5px 0 0; }
span.align-center {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-center > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: center; }
  span.align-center span img {
    margin: 0 auto;
    text-align: center; }
span.align-right {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-right > span {
    display: block;
    overflow: hidden;
    margin: 13px 0 0;
    text-align: right; }
  span.align-right span img {
    margin: 0;
    text-align: right; }
span.float-left {
  display: block;
  margin-right: 13px;
  overflow: hidden;
  float: left; }
  span.float-left span {
    margin: 13px 0 0; }
span.float-right {
  display: block;
  margin-left: 13px;
  overflow: hidden;
  float: right; }
  span.float-right > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: right; }

code, tt {
  margin: 0 2px;
  padding: 0 5px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px; }

pre code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent; }

.highlight pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }

pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }
  pre code, pre tt {
    background-color: transparent;
    border: none; }

sup {
    font-size: 0.83em;
    vertical-align: super;
    line-height: 0;
}
* {
	-webkit-print-color-adjust: exact;
}
@media screen and (min-width: 914px) {
    body {
        width: 854px;
        margin:0 auto;
    }
}
@media print {
	table, pre {
		page-break-inside: avoid;
	}
	pre {
		word-wrap: break-word;
	}
}
</style>
<title>Aide pour la collection Narration</title>

</head>
<body>
<h1>Aide pour la collection Narration</h1>

<blockquote><p>Si ce document est modifié, il faut l'ouvrir dans Mou et produire la version HTML.</p></blockquote>

<ul>
<li><a href="#leslivresnarration">Les livres de la collection</a>

<ul>
<li><a href="#estimationdunombredepagesetautres">Estimation du nombre de pages et autres valeurs</a></li>
</ul>
</li>
<li><a href="#lespagesnarration">Les Pages narration</a>

<ul>
<li><a href="#recherchedestodo">Recherche des TODOs</a></li>
<li><a href="#checkdespagesout">Check des pages “out” des TDMs</a></li>
<li><a href="#creationdunenouvellepage">Création d'une nouvelle page</a></li>
</ul>
</li>
<li><a href="#lestextes">Les Textes</a>

<ul>
<li><a href="#obtenirbalisesverschoses">Obtenir des balises vers film, livre, mot, etc.</a></li>
<li><a href="#notesdebasdepage">Notes types notes de bas de page</a></li>
<li><a href="#environnementsdocuments">Les environnements documents</a></li>
<li><a href="#listedequestionspourcheckup">Liste des questions des CHECKUPS</a></li>
<li><a href="#placerunereferenceaautrepage">Référence vers autre page</a></li>
<li><a href="#portionsrelecture">Indiquer des portions en relecture</a></li>
<li><a href="#lestextestypes">Textes types</a></li>
<li><a href="#utilisationduneimage">Images</a></li>
</ul>
</li>
<li><a href="#sortiedulivrenarration">Sortie des livres de la collection</a>

<ul>
<li><a href="#sortielatexcollection">Sortie LaTex de la collection</a></li>
</ul>
</li>
</ul>


<p><a name='leslivresnarration'></a></p>

<h2>Les livres de la collection</h2>

<p><a name='estimationdunombredepagesetautres'></a></p>

<h3>Estimation du nombre de pages et autres valeurs</h3>

<p>Pour estimer le nombre de page de chaque livre, ainsi que le nombre de signes et autres, on peut utiliser l'une de ces commandes dans la <a href="admin/console">console</a> :</p>

<pre><code>inventory narration

etat des lieux narration
</code></pre>

<p><a name='lespagesnarration'></a></p>

<h2>Les Pages narration</h2>

<p><a name='recherchedestodo'></a></p>

<h3>Recherche des TODOs</h3>

<p>Pour trouver tous les <code>TODO</code> des choses à faire sur les pages, on peut utiliser <a href="cnarration/search">la recherche</a> avec le texte <code>todo</code> non exact et dans les textes.</p>

<p><a name='checkdespagesout'></a></p>

<h3>Check des pages “out” des TDMs</h3>

<p>Pour checker les fichiers physiques qui pourraient ne pas se trouver dans les tables des matières ou les titres, etc. on peut utiliser la commande suivante dans la <a href="admin/console">console</a> :</p>

<pre><code>check pages narration out
</code></pre>

<p><a name='creationdunenouvellepage'></a></p>

<h2>Création d'une nouvelle page</h2>

<p>Pour créer une nouvelle page, on peut utiliser plusieurs moyens :</p>

<ul>
<li>par l'éditeur de données de page</li>
<li>par la console</li>
</ul>


<h3>Par l'édition de données de page</h3>

<ul>
<li>rejoindre l'éditeur de données en utilisant la commande console <code>new page narration</code></li>
<li>choisir le livre,</li>
<li>choisir le titre,</li>
<li>choisir l'emplacement du fichier dans le dossier du livre. Noter qu'il n'a pas besoin d'être en relation avec son emplacement dans la table des matières.</li>
<li>cocher la case “créer le fichier” s'il n'existe pas encore et qu'on veut le créer,</li>
<li>mettre un descriptif si nécessaire</li>
<li>cliquer le bouton “Créer la page” (ou similaire)</li>
</ul>


<p>On peut immédiatement éditer la table des matières du livre en cliquant le bouton <code>edit tdm</code> en regard du titre du livre, pour placer la page.</p>

<h3>Par la console</h3>

<p>Rejoindre la console et taper la commande :</p>

<pre><code>create|creer page narration in[ID_LIVRE] handler[LE_PATH_RELATIF] titre[LE TITRE DE LA PAGE]

Optionnellement on peut ajouter :

    description[DESCRIPTION DE LA PAGE]
    after[ID_PAGE_OU_TITRE]
</code></pre>

<p>Noter qu'on peut facilement obtenir l'ID de la page/titre en affichant la table des matières du livre (<code>show livre &amp;lt;référence&amp;gt;</code>) et en glissant la souris sur le titre ou la page après laquelle il faut insérer le nouveau titre ou la nouvelle page.</p>

<p><a name='lestextes'></a></p>

<h2>Les Textes</h2>

<p><a href="http://kramdown.gettalong.org">Aide Kramdown</a></p>

<p><a name='portionsrelecture'></a></p>

<h2>Indiquer des portions en relecture</h2>

<p>Lorsqu'une page a été entièrement corrigée et que du texte est ajouté ou modifier, on peut mettre ce texte entre balises <code>RELECTURE_ ... _RELECTURE</code> pour que lui seul soit relu et corrigé.</p>

<pre><code>
  RELECTURE_

  Le passage qui doit être relu et corrigé.

  Il peut faire autant de lignes que voulu.

  _RELECTURE
</code></pre>

<p>Note : penser à modifier le niveau de développement du fichier pour qu'il soit indiqué en lecture pour les correcteurs.</p>

<blockquote><p>Des balises HTML <code>&amp;lt;relecture&gt;</code> ne sont pas utilisées, car la portion de texte ne serait plus corrigée par le module kramdown et donc le texte ne serait plus mis en forme (kramdown penserait que c'est un texte déjà formaté).</p></blockquote>

<p><a name='lestextestypes'></a></p>

<h3>Textes types</h3>

<p>Des textes-types, de préférable en Markdown, insérable n'importe où peuvent être définis dans le dossier :</p>

<pre><code>./data/unan/texte_type/cnarration/
</code></pre>

<p>Pour les insérer il suffit d'utiliser :</p>

<pre><code>Cnarration::texte_type "path/relatif/to/file.md"
</code></pre>

<p>Le chemin relatif se calcule depuis le dossier <code>./data/unan/texte_type/cnarration/</code>.</p>

<p><a name='placerunereferenceaautrepage'></a></p>

<h3>Référence vers autre page</h3>

<p>Quand il y a l'ancre, il faut obligatoirement le titre
=>  Si 4 élément => avec ancre
    Si 3 éléments => le titre en dernier
    Si 2 éléments => le titre ou le livre en dernier</p>

<p>@usage</p>

<pre><code>REF[page_id[|ancre][|titre]]

REF[page_id]                # Référence par simple ID de page
REF[page_id|titre]          # Idem avec un titre fourni
REF[page_id|ancre|titre]    # Avec l'ancre, le titre est OBLIGATOIRE
</code></pre>

<p>Pour obtenir facilement une référence à une page, rejoindre la page et cliquer sur le bouton <code>&amp;lt;-&amp;gt</code>. Ou utiliser la commande <code>balise page ...</code></p>

<p><a name='obtenirbalisesverschoses'></a></p>

<h2>Obtenir des balises vers film, livre, mot, etc.</h2>

<p>Pour obtenir ces balises à insérer dans les textes, utiliser la console avec les commandes suivantes :</p>

<p>@syntaxe pour un film</p>

<pre><code>balise film &lt;portion du titre fr ou original&gt;
</code></pre>

<p>@syntaxe pour un mot du scénodico</p>

<pre><code>balise mot &lt;portion du mot&gt;
</code></pre>

<p>@syntaxe pour un livre de la collection</p>

<pre><code>balise livre &lt;ref book&gt;
</code></pre>

<p>@syntaxe pour un livre de la bibliographie</p>

<pre><code>balise livre &lt;portion de l'id, du titre ou de l'auteur&gt;
</code></pre>

<p>@syntaxe pour une page de la collection</p>

<pre><code>balise page &lt;portion du titre&gt;
</code></pre>

<p><a name='notesdebasdepage'></a></p>

<h2>Notes types notes de bas de page</h2>

<p>On peut insérer des notes dans le texte en se servant des double-crochets. On insère la balise <code>{{ID}}</code> à l'endroit où l'on doit trouver le renvoi de note et l'on définit la note à l'aide de <code>{{ID: NOTE}}</code> à l'intérieur de deux balises <code>&lt;!-- NOTES --&gt;</code> et <code>&lt;!-- /NOTES --&gt;</code>.</p>

<p>Attention, ces marques doivent être respectées scrupuleusement.</p>

<p>Exemple :</p>

<pre><code>
  Le texte avec une note {{2}} pour voir si ça marche.

  Un second paragraphe et une autre note {{1}} qui n'est pas indicé
  dans le bon ordre {{3}}.

  &lt;!-- NOTES --&gt;
  {{3: Une troisième note. Peu importe qu'elle soit ici.}}
  {{2: La définition de la note 2.}}
  {{1: La définition de la note 1.}}
  &lt;!-- /NOTES --&gt;
</code></pre>

<p>Ce code produira le texte :</p>

<hr />

<p>Le texte avec la note<sup class='small'>1</sup> pour voir si ça marche.</p>

<p>Un second paragraphe et une autre note<sup class='small'>2</sup> qui n'est pas indicé
dans le bon ordre<sup class='small'>3</sup>.</p>

<div style="border:1px solid #777;width:50%"></div>


<p>  1   La définition de la note 2.<br>
  2   La définition de la note 1.<br>
  3   Une troisième note. Peu importe qu'elle soit ici.</p>

<div style="border:1px solid #777;width:50%"></div>


<hr />

<p><a name='environnementsdocuments'></a></p>

<h3>Les environnements documents</h3>

<p>Ces environnements permettent de simuler une page de document dans la page.</p>

<p>Dans TextMate, utiliser le snippet <code>doc-&gt;|</code> pour générer le texte type :</p>

<pre><code>DOC/&lt;type de document&gt;[ plain]
# Un titre
## Un sous-titre
...
/ Légende du document
/DOC
</code></pre>

<p>On trouve comme type de document :</p>

<pre><code>events      Évènemencier
synopsis    Synopsis ou document général.
raw         Document brut (pre)
rapport     Type rapport
procedure   Type pour l'aide (cf. dans l'aide générale)
scenario    Scénario
            On peut alors commencer les lignes par des :
            &lt;LETTRE&gt;:&lt;texte&gt;
            pour formater dans le style d'un scénario à l'aide
            des lettres I (intitulé) A (action), D (dialogue),
            P (nom du personnage) J (note de jeu)
</code></pre>

<p><a name='listedequestionspourcheckup'></a></p>

<h3>Liste des questions des CHECKUPS</h3>

<p>L'idée est que ces checkups soient automatiques, qu'ils rassemblent toutes les questions qui sont posées au fil des pages.</p>

<h4>Ajout d'une question dans un fichier</h4>

<p>Pour enregistrer une nouvelle question, on la marque dans le texte par :</p>

<pre><code>CHECKUP["&lt;la question&gt;"&lt;|groupe&gt;]
</code></pre>

<p>Les <code>&amp;lt;groupe&amp;gt;</code> permettent de la classer dans la page en mettant les questions dans des groupes. Par exemple :</p>

<pre><code>CHECKUP["Ceci est une question générale"|'generalites']
</code></pre>

<blockquote><p>Note : On peut très bien utiliser aussi ce système pour une liste de consignes par exemple.</p></blockquote>

<h4>Affichage des questions du checkup</h4>

<p>Une page checkup est une page qui contient le code :</p>

<pre><code>PRINT_CHECKUP
# =&gt; Affiche toutes les questions, dans l'ordre où elles
# apparaissent dans le livre, sans classement.
</code></pre>

<p>Pour grouper les questions par leur groupe :</p>

<pre><code>&lt;!-- On met le titre au-dessus de la balise --&gt;
## Questions générales

PRINT_CHECKUP['generalites']

## Questions sur les personnages

PRINT_CHECKUP['personnages']

## Autres questions

PRINT_CHECKUP
&lt;!--
  Affichera les questions qui restent à afficher.
  Ce fait automatiquement, avec le titre "Autres questions"
  s'il reste des questions dans la liste complète.
--&gt;
</code></pre>

<h4>Style CSS des questions et de la liste</h4>

<p>Les styles pour les questions sont définis dans :</p>

<pre><code>./objet/cnarration/lib/required/css/show.sass
</code></pre>

<h4>Explication des checkups</h4>

<p>On peut insérer un texte type sur l'explication des checkups en insérant à l'endroit voulu (en général en haut du fichier) la balise :</p>

<pre><code>EXPLICATION_CHECKUPS
</code></pre>

<p>Le texte est un texte type se trouvant dans :</p>

<pre><code>./data/unan/texte_type/cnarration/explication_checkups.md
</code></pre>

<h4>Actualisation</h4>

<p>Dès qu'un fichier contenant une question est modifié, le programme cherche dans quel fichier de checkup la question doit apparaitre et détruit son fichier ERB pour forcer sa reconstruction la prochaine fois qu'il sera affiché (un lien permet de le faire tout de suite).</p>

<p><a name='utilisationduneimage'></a></p>

<h2>Images</h2>

<pre><code>IMAGE[path/relatif|titre optionnel OU 'inline'|legende]
</code></pre>

<p>Mettre <code>inline</code> pour que l'image soit en ligne, <code>fleft</code> pour "floattant à gauche" ou <code>fright</code> pour "flottant à droite". Dans le cas contraire, elle apparaitra toujours au milieu, sur un paragraphe.</p>

<p>Le <code>path relatif</code> est traité de cette façon : on s'attend à trouver l'image dans un dossier du dossier <code>img</code> du dossier du livre au même niveau que le fichier lui même.</p>

<p>Par exemple, si le fichier est :</p>

<pre><code>.../concepts/dimensions_hsp/mon_fichier.md
</code></pre>

<p>… alors si une image dans le fichier <code>mon_fichier.md</code> est spécifié par :</p>

<pre><code>IMAGE[mon_image]
</code></pre>

<p>… on la recherchera dans :</p>

<pre><code>.../concepts/img/dimensions_hsp/mon_image.png
</code></pre>

<h3>Autres path</h3>

<p>On peut spécifier un autre path dans le dossier images du livre en partant du dossier <code>img</code>.</p>

<p>On peut également spécifier un autre path en partant de la racine du site lui-même (mais attention, dans ce cas, les dossiers ne seront plus portables ailleurs).</p>

<p>Donc, par ordre de précédence, on trouve :</p>

<pre><code>1. Recherche avec le même path relatif dans img
2. Recherche avec le path relatif fourni dans le dossier img
3. Recherche avec le path relatif dans le site.
</code></pre>

<h3>Autres formats</h3>

<p>Si l'image doit avoir un autre format que <code>png</code> il suffit de l'indiquer dans le nom.</p>

<pre><code>IMAGE[mon_image_jpeg.jpg]
</code></pre>

<h3>Titre alt</h3>

<p>On peut préciser le titre alternatif par :</p>

<pre><code>IMAGE[image|Mon titre alternatif]
</code></pre>

<p>Il sera ajouter en légende.</p>

<p><a name='sortiedulivrenarration'></a></p>

<h2>Sortie des livres de la collection</h2>

<p>Par défaut, la collection est créée en HTML et sort sur le site de LA BOITE À OUTILS DE L'AUTEUR. Il suffit de charger une page pour qu'elle se construise le cas échéant.</p>

<p><a name='sortielatexcollection'></a></p>

<h3>Sortie LaTex de la collection</h3>

<p>Pour faire une sortie Latex, exécuter la commande :</p>

<pre><code>narration sortie latex[ ref_book]
</code></pre>

<p>Tous les livres :</p>

<pre><code>narration sortie latex
</code></pre>

<p>Le livre documents :</p>

<pre><code>narration sortie latex documents
</code></pre>
</body>
</html>
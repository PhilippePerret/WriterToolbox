<%
# Vue pour l'édition des exemples
raise_unless_admin
%>
<%
# site.require_objet 'unan'
site.require 'form_tools'
form.prefix = 'exemple'
form.objet  = param(:exemple) || Hash::new
%>
<form class="dim2080" action="exemple/<%= form.objet[:id] %>/edit?in=unan_admin" method="POST">
  <%= "save_exemple".in_hidden(name:'operation', id:'operation') %>

  <%# TITRE %>
  <%= form.field_text("Titre", 'titre', nil) %>

  <%# CONTENU DE L'EXEMPLE %>
  <%= form.field_textarea("Exemple", 'content', nil) %>

  <%# WORK DE RÉFÉRENCE (ID) %>
  <%= form.field_text("Work ID", 'work_id', nil, {class:'short'}) %>
  <%= form.field_description("Si cet exemple est intimement lié à un travail absolu, alors on peut indiquer son ID ici.") %>

  <%# SOURCE %>
  <%= form.field_text("Source", 'source', nil) %>
  <%= form.field_description("Source de l'exemple, de façon simple, comme “Tiré du film XXX” ou “Exemple personnel inventé pour ce travail.”") %>

  <%# SOURCE TYPE (plusieurs valeurs définissant la valeur finale) %>
  <%= form.field_select("Type", 'source_src', nil, {values: Unan::Program::Exemple::TYPES_SOURCES}) %>
  <%= form.field_select_pays("Pays", 'source_pays', nil) %>
  <%# Source type : Année %>
  <%= form.field_text("Année", 'source_year', nil, {class: 'short', text_after:"(année de l'exemple sous la forme AAAA)"}) %>


  <%= form.submit_button("Enregistrer l'exemple") %>
</form>

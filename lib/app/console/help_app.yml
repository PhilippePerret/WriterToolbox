# ---------------------------------------------------------------------
#     AIDE PROPRE À L'APPLICATION
# ---------------------------------------------------------------------

# SCÉNODICO
scenodico:
  -
    type:           TITLE
    description:    Scénodico
  -
    command:        "balise mot &lt;mot ou portion de mot&gt;"
    description:    Retourne la balise MOT pour le mot demandé.
    note:           Si le mot commence par un accent ou un caractère diacritique, il faut supprimer cette lettre pour pouvoir trouver le mot.
  -
    command:        goto|aller sceno|scenodico
    description:    Permet de rejoindre le scénodico.
    type:           GOTO
  -
    command:        goto|aller dico|dictionnaire
    description:    Permet de rejoindre directement la liste des mots.
    type:           GOTO

  -
    command:        goto|aller nouveau_mot
    description:    Rejoint le formulaire pour créer un nouveau mot du scénodico.

# FILMODICO
filmodico:
  -
    type:           TITLE
    description:    Filmodico
  -
    command:        balise film &lt;titre ou portion de titre&gt;
    description:    Retourne la balise FILM pour le film demandé, ou les balises si plusieurs films correspondent à la demande.
    note:           "Attention : Si le titre du film commence par un accent ou un diacritique, il FAUT ne pas mettre cette lettre."
  -
    command:        goto|aller filmo|filmodico
    description:    Permet de rejoindre l'accueil du filmodico

  -
    command:        goto|aller nouveau_film
    description:    Rejoint directement le formulaire de création d'un nouveau film
  -
    command:        list filmodico
    description:    Affiche la liste des films du Filmodico, c'est-à-dire le contenu de la table.

# ---------------------------------------------------------------------
#   NARRATION
# ---------------------------------------------------------------------
narration:
  -
    type:           TITLE
    description:    Collection Narration
  -
    command:        synchronize database narration
    description: |
      Synchronise le fichier `cnarration.db`, base de données des pages de la collection Narration, en conservant les niveaux de développement les plus grands, qui ont pu être modifiés en online ou en offline.
    note: |
      On peut faire également `synchro base narration`.
  -
    command:        open page narration &lt;page ID|portion titre&gt;
    description: |
      Ouvrir le fichier physique (markdown) de la page d'ID ou de portion titre donné en argument.
    note: |
      On peut utiliser aussi les verbes `ouvre` ou `ouvrir`.<br>L'éditeur utilisé dépend de la définition de `site.markdown_application` dans le fichier `./objet/site/config.rb`.
  -
    command:        edit page narration &lt;Page Ref&gt;
    description:    Met la page donné en référence en édition. La référence peut être l'ID de la page ou une portion de titre.
    note: |
      Si plusieurs pages correspondent à la référence, la commande retourne une liste des pages avec leur titre et un lien permettant de les éditer.
  -
    command:        creer|create page narration in:LIVRE_REF handler:REL/PATH titre:LE TITRE
    description: |
      Créer la page dans le livre LIVRE_REF (id ou dossier — on peut l'obtenir avec aide livres narration) avec le path relatif REL/PATH et le titre donné.
    note: |
      On peut ajouter aussi :
        <ul>
          <li>`description: ...` pour la description</li>
          <li>`after: ID_PAGE` pour définir après quelle page mettre cette page</li>
          <li>`niveau: NIVEAU_DE_0_A_9` pour définir le niveau de développement</li>
        </ul>
  -
    command:        creer|create chapitre narration in:LIVRE_REF titre:TITRE CHAPITRE after:PAGE_ID_OPTIONNELLE
    description: |
      Créer le chapitre de titre donné.
    note: |
      le LIVRE_REF est le nom du dossier ou l'ID du livre.<br>
      Noter que la commande
      produira un lien à cliquer pour ajouter le chapitre dans la table des matières.
  -
    command:        "`etat des lieux narration` ou `inventory narration`"
    description: |
      Renvoie à la page de la collection qui affiche un état des lieux de la collection et notamment des pages.
  -
    command:        creer|create sous-chapitre narration in:LIVRE_REF titre:TITRE SOUS-CHAPITRE after:PAGE_ID_OPTIONNELLE
    description:    Créer le sous-chapitre dans le livre donné en référence (nom dossier ou id).
    note: |
      Noter que la commande produira un lien à cliquer pour ajouter le chapitre dans la table des matières.
  -
    command:        goto|aller &lt;destination&gt;
    description:    Rejoindre une section de la collection narration. cf. ci-dessous les valeurs possibles.
    note: |
      On peut utiliser :
        <ul class='small'>
          <li>goto|aller page narration &lt;ID page|portion titre&gt;</li>
          <li>goto|aller admin narration : Administration de la collection</li>
          <li>goto|aller narration : accueil</li>
          <li>goto|aller new_page_narration : formulaire de nouvelle page</li>
          <li>goto|aller livres_narration : liste des livres</li>
          <li>goto|aller livre_&lt;livre-désignant&gt; : rejoindre un livre en particulier</li>
        </ul>
  -
    command:        nouvelle|new page narration
    description:    Conduit au formulaire pour créer une nouvelle page
  -
    command:        check|vérifier pages narration out
    description: |
      Vérifie 1/ que toutes les fichiers physiques (fichiers) sont consignés dans la DB et 2/ que tous les enregistrements de pages et de titres sont utilisés dans les livres.
  -
    command:        pages narration niveau &lt;niveau&gt;
    description:    |
      Affiche les pages dont le niveau de développement correspond à &lt;niveau&gt;.
      <ul>
        <li>1 : Page juste créée (donc vide)</li>
        <li>3 : Page esquissée</li>
        <li>4 : Page développée</li>
        <li>5 : Page presque achevée</li>
        <li>6 : Page à lire par le lecteur (Marion)</li>
        <li>7 : Page à corriger par l'auteur</li>
        <li>8 : Page corrigée à relire pour dernière correction</li>
        <li>9 : Page à corriger pour BAT</li>
        <li>a : BAT</li>
      </ul>
  -
    command:        balise livre &lt;référence livre&gt;
    description:    Permet d'obtenir une balise avec un lien vers le livre.
    note: |
      La référence au livre peut être diverse, par exemple `balise livre documents` ou `balise livre auteur` ou `balise livre themes`.

# ANALYSE DE FILM
analyse:
  -
    type:           TITLE
    description:    Les Analyses de film
  -
    command:        aide analyse
    description:    Affiche l'aide pour les analyses de film.
    implement:      |
      Ajouter les nouvelles aides au fichier '/Users/philippeperret/Sites/WriterToolbox/lib/deep/deeper/module/console_aides/analyse.rb'.
  -
    command:        list films
    description:    Affiche le contenu de la table analyse.films.
    note:           Noter qu'il s'agit de la table pour les films analysés, pas la table Filmodico, même si les deux tables sont synchronisés.

# PROGRAMME UN AN UN SCRIPT
unan:
  -
    type:           TITLE
    description:    Le Programme UN AN UN SCRIPT
  -
    command:        goto|aller unanunscript
    description:    Rejoindre la section du programme UN AN UN SCRIPT
  -
    command:        Unan points
    description: |
      Affiche l'évolution des points sur l'année.
      Doit permettre de régler les différents grades et messages à obtenir.
  -
    command:        "detruire programmes de `&lt;pseudo&gt;|&lt;id&gt;"
    description:    Détruit tous les programmes “Un An Un Script” de l'user et détruit aussi son dossier dans `./database/data/unan/user/` comme s'il n'avait jamais procédé à un seul programme. Permet de tester l'inscription au programme.
    note:           Cette commande ne peut s'utiliser qu'en OFFLINE.
  -
    command:        set benoit to pday &lt;x p-day (1-start)&gt;
    description:    |
      Passe Benoit à ce jour-programme, en réglant tout ce qu'il faut régler.
  -
    command:        set benoit to pday &lt;x p-day&gt; with {&lt;params&gt;}
    description:    "Même que précédente mais en définissant des paramètres supplémentaires."
    note: |
      Ces paramètres peuvent être : <ul>
        <li>`rythme` : Le rythme choisi, de 1 à 9</li>
        <li>`just_in_time` : Si true, l'heure sera mise juste au début du jour, ce qui fait que les travaux précédents devraient être en retard.</li>
      </ul>
  -
    command:        get &lt;chose&gt; of &lt;autre_chose&gt; &lt;id&gt;
    description: |
      Obtient la chose (work, page de cours, p-day etc.) de l'autre chose (work, page de cours, p-day, etc.).
      La chose ou l'autre chose peuvent être : work|pday|page_cours|exemple|quiz
    note:           "En plus, produit une ligne qui permet d'éditer, d'afficher ou de détruire l'élément voulu."
  -
    command:        "`Unan état des lieux` ou `Unan inventory`"
    description:    |
      Procède à un état des lieux du programme UN AN UN SCRIPT, c'est-à-dire consulte les tables pour faire le rapport. C'est en quelques sortes une version simplifiée de l'affichage de toutes les tables.
  -
    command:        Unan repare
    description:  |
      Répare le programme UN AN UN SCRIPT. Utile souvent après les tests, pour détruire les choses qui ne l'ont pas été à la fin des tests. Mais normalement, maintenant, avec les gels, ça doit être inutile.
  -
    command:        Unan init program for &lt;ID de user existant&gt;
    description:    Pour initier un programme pour un utilisateur existant.
    note:           La commande fait plusieurs vérification, notamment l'existence de l'utilisateur et le fait qu'il ne soit pas déjà en train de suivre un programme (qu'il faudrait arrêter avant de poursuivre).
  -
    command:        unan nouveau|new pday
    description:    "Conduit au formulaire pour créer un nouveau P-Day."
  -
    command:        unan nouveau|new work
    description:    "Conduit au formulaire pour créer un nouveau travail (Word)."
  -
    command:        unan nouvelle|new page
    description:    Conduit au formulaire pour créer une nouvelle page de cours.
  -
    command:        unan nouveau|new qcm
    description:    Conduit au formulaire pour construire un nouveau Quiz.
  -
    command:        unan nouvelle|new question
    description:    Conduit au formulaire pour créer une nouvelle question
  -
    command:        unan nouveau|new exemple
    description:    Conduit au formulaire pour créer un nouvel exemple.
  -
    command:        Autres commandes sur les tables
    description: |
      On peut trouver d'autres commandes à appliquer aux tables en utilisant les
      commandes des tables générales. Ces commandes permettent notamment de
      modifier si nécessaire le schéma des tables existantes en procédant à un
      backup préliminaire et en modifiant ensuite les tables.
    note: |
      Pour le moment, ces commandes n'ont pas encore été mises en commandes
      générales, on peut les trouver ci-dessous.
  -
    command:          unan affiche (table &lt;nom_table&gt;)
    description:      Affiche le contenu de la table.
    note:             Cf. ci-dessous les noms de table utilisables.
  -
    command:          unan backup data (table &lt;nom_table&gt;)
    description:      Procède au backup de la table &lt;nom_table&gt;.
  -
    command:          unan retreive data (table &lt;nom_table&gt;)
    description:      Procède à la récupération des données.
    note: |
      Avant d'appeler cette méthode il faut bien entendu définir les modications
      qui doivent être faites sur les données backupées précédemment.
  -
    command:          Liste des tables connaissant le cycle ci-dessus.
    description: |
      <ul>
        <li>programs</li>
        <li>projets</li>
        <li>pages cours # les pages de cours</li>
        <li>exemples</li>
        <li>quiz # les questionnaires</li>
        <li>questions # les questions des questionnaires</li>
        <li>absolute works # les travaux absolus</li>
        <li>absolute pdays # les jours absolus</li>
      </ul>
    note: |
      Noter que cette modification affecte les tables courantes mais
      également toutes les tables des gels, en respectant leurs données
      propres.
